<?xml version="1.0" encoding="UTF-8"?>
<jboss-deployment-structure xmlns="urn:jboss:deployment-structure:1.2">
    <deployment>
        <exclusions>
            <module name="org.jboss.logging" />
            <module name="org.apache.log4j" />
        </exclusions>
        <dependencies>
            <module name="org.apache.commons.codec" />
            <module name="org.apache.commons.lang" />
            <system export="true">
                <paths>
                    <path name="com/sun/crypto" />
                    <path name="com/sun/crypto/provider" />
                    <path name="sun/security/util" />
                </paths>
            </system>
        </dependencies>
    </deployment>
    <sub-deployment name="cp_api-ejb.jar">
        <exclusions>
            <module name="org.jboss.logging" />
            <module name="org.apache.log4j" />
            <module name="org.jboss.logging.jul-to-slf4j-stub" />
        </exclusions>
        <dependencies>
            <module name="org.apache.commons.lang" />
            <module name="org.jboss.msc" />
            <module name="org.jboss.as.server" />

            <module name="com.sun.xml.bind"/>
            <module name="org.codehaus.jackson.jackson-core-asl"/>
            <module name="javax.ws.rs.api" services="export" export="true"/>
            <module name="org.apache.httpcomponents" services="export" export="true"/>
            <module name="org.jboss.resteasy.resteasy-jackson-provider" />
            <module name="org.jboss.resteasy.resteasy-jaxrs" services="export" export="true"/>
            <module name="org.jboss.resteasy.resteasy-jaxb-provider" services="export" export="true"/>
        </dependencies>
    </sub-deployment>
</jboss-deployment-structure>